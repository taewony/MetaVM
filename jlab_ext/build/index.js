!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(self,(()=>(()=>{var t={181:function(t,e,n){!function(t,e){"use strict";t.JSONExt=void 0,function(t){function e(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t}function n(t){return Array.isArray(t)}function i(t,r){if(t===r)return!0;if(e(t)||e(r))return!1;let o=n(t),l=n(r);return o===l&&(o&&l?function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;++n)if(!i(t[n],e[n]))return!1;return!0}(t,r):function(t,e){if(t===e)return!0;for(let n in t)if(void 0!==t[n]&&!(n in e))return!1;for(let n in e)if(void 0!==e[n]&&!(n in t))return!1;for(let n in t){let r=t[n],o=e[n];if(void 0!==r||void 0!==o){if(void 0===r||void 0===o)return!1;if(!i(r,o))return!1}}return!0}(t,r))}function r(t){return e(t)?t:n(t)?function(t){let e=new Array(t.length);for(let n=0,i=t.length;n<i;++n)e[n]=r(t[n]);return e}(t):function(t){let e={};for(let n in t){let i=t[n];void 0!==i&&(e[n]=r(i))}return e}(t)}t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]),t.isPrimitive=e,t.isArray=n,t.isObject=function(t){return!e(t)&&!n(t)},t.deepEqual=i,t.deepCopy=r}(t.JSONExt||(t.JSONExt={}));var n;!function(t){class n{constructor(t){var e,n,i,r;this._activated=!1,this._promise=null,this._service=null,this.id=t.id,this.description=null!==(e=t.description)&&void 0!==e?e:"",this.activate=t.activate,this.deactivate=null!==(n=t.deactivate)&&void 0!==n?n:null,this.provides=null!==(i=t.provides)&&void 0!==i?i:null,this.autoStart=null!==(r=t.autoStart)&&void 0!==r&&r,this.requires=t.requires?t.requires.slice():[],this.optional=t.optional?t.optional.slice():[]}get activated(){return this._activated}set activated(t){this._activated=t}get service(){return this._service}set service(t){this._service=t}get promise(){return this._promise}set promise(t){this._promise=t}}t.createPluginData=function(t){return new n(t)},t.ensureNoCycle=function(t,e,n){const i=[...t.requires,...t.optional],r=i=>{if(i===t.provides)return!0;const l=n.get(i);if(!l)return!1;const a=e.get(l),s=[...a.requires,...a.optional];return 0!==s.length&&(o.push(l),!!s.some(r)||(o.pop(),!1))};if(!t.provides||0===i.length)return;const o=[t.id];if(i.some(r))throw new ReferenceError(`Cycle detected: ${o.join(" -> ")}.`)},t.findDependents=function(t,n,i){const r=new Array,o=t=>{const e=n.get(t),o=[...e.requires,...e.optional];r.push(...o.reduce(((e,n)=>{const r=i.get(n);return r&&e.push([t,r]),e}),[]))};for(const t of n.keys())o(t);const l=r.filter((e=>e[1]===t));let a=0;for(;l.length>a;){const t=l.length,e=new Set(l.map((t=>t[0])));for(const t of e)r.filter((e=>e[1]===t)).forEach((t=>{l.includes(t)||l.push(t)}));a=t}const s=e.topologicSort(l),u=s.findIndex((e=>e===t));return-1===u?[t]:s.slice(0,u+1)},t.collectStartupPlugins=function(t,e){const n=new Set;for(const e of t.keys())!0===t.get(e).autoStart&&n.add(e);if(e.startPlugins)for(const t of e.startPlugins)n.add(t);if(e.ignorePlugins)for(const t of e.ignorePlugins)n.delete(t);return Array.from(n)}}(n||(n={}));function i(t){let e=0;for(let n=0,i=t.length;n<i;++n)n%4==0&&(e=4294967295*Math.random()>>>0),t[n]=255&e,e>>>=8}t.Random=void 0,(t.Random||(t.Random={})).getRandomValues=(()=>{const t="undefined"!=typeof window&&(window.crypto||window.msCrypto)||null;return t&&"function"==typeof t.getRandomValues?function(e){return t.getRandomValues(e)}:i})(),t.UUID=void 0,(t.UUID||(t.UUID={})).uuid4=function(t){const e=new Uint8Array(16),n=new Array(256);for(let t=0;t<16;++t)n[t]="0"+t.toString(16);for(let t=16;t<256;++t)n[t]=t.toString(16);return function(){return t(e),e[6]=64|15&e[6],e[8]=128|63&e[8],n[e[0]]+n[e[1]]+n[e[2]]+n[e[3]]+"-"+n[e[4]]+n[e[5]]+"-"+n[e[6]]+n[e[7]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]}}(t.Random.getRandomValues),t.MimeData=class{constructor(){this._types=[],this._values=[]}types(){return this._types.slice()}hasData(t){return-1!==this._types.indexOf(t)}getData(t){let e=this._types.indexOf(t);return-1!==e?this._values[e]:void 0}setData(t,e){this.clearData(t),this._types.push(t),this._values.push(e)}clearData(t){let e=this._types.indexOf(t);-1!==e&&(this._types.splice(e,1),this._values.splice(e,1))}clear(){this._types.length=0,this._values.length=0}},t.PluginRegistry=class{constructor(t={}){this._application=null,this._validatePlugin=()=>!0,this._plugins=new Map,this._services=new Map,t.validatePlugin&&(console.info("Plugins may be rejected by the custom validation plugin method."),this._validatePlugin=t.validatePlugin)}get application(){return this._application}set application(t){if(null!==this._application)throw Error("PluginRegistry.application is already set. It cannot be overridden.");this._application=t}get deferredPlugins(){return Array.from(this._plugins).filter((([t,e])=>"defer"===e.autoStart)).map((([t,e])=>t))}getPluginDescription(t){var e,n;return null!==(n=null===(e=this._plugins.get(t))||void 0===e?void 0:e.description)&&void 0!==n?n:""}hasPlugin(t){return this._plugins.has(t)}isPluginActivated(t){var e,n;return null!==(n=null===(e=this._plugins.get(t))||void 0===e?void 0:e.activated)&&void 0!==n&&n}listPlugins(){return Array.from(this._plugins.keys())}registerPlugin(t){if(this._plugins.has(t.id))throw new TypeError(`Plugin '${t.id}' is already registered.`);if(!this._validatePlugin(t))throw new Error(`Plugin '${t.id}' is not valid.`);const e=n.createPluginData(t);n.ensureNoCycle(e,this._plugins,this._services),e.provides&&this._services.set(e.provides,e.id),this._plugins.set(e.id,e)}registerPlugins(t){for(const e of t)this.registerPlugin(e)}deregisterPlugin(t,e){const n=this._plugins.get(t);if(n){if(n.activated&&!e)throw new Error(`Plugin '${t}' is still active.`);this._plugins.delete(t)}}async activatePlugin(t){const e=this._plugins.get(t);if(!e)throw new ReferenceError(`Plugin '${t}' is not registered.`);if(e.activated)return;if(e.promise)return e.promise;const n=e.requires.map((t=>this.resolveRequiredService(t))),i=e.optional.map((t=>this.resolveOptionalService(t)));return e.promise=Promise.all([...n,...i]).then((t=>e.activate.apply(void 0,[this.application,...t]))).then((t=>{e.service=t,e.activated=!0,e.promise=null})).catch((t=>{throw e.promise=null,t})),e.promise}async activatePlugins(t,e={}){switch(t){case"defer":{const t=this.deferredPlugins.filter((t=>this._plugins.get(t).autoStart)).map((t=>this.activatePlugin(t)));await Promise.all(t);break}case"startUp":{const t=n.collectStartupPlugins(this._plugins,e).map((async t=>{try{return await this.activatePlugin(t)}catch(e){console.error(`Plugin '${t}' failed to activate.`,e)}}));await Promise.all(t);break}}}async deactivatePlugin(t){const e=this._plugins.get(t);if(!e)throw new ReferenceError(`Plugin '${t}' is not registered.`);if(!e.activated)return[];if(!e.deactivate)throw new TypeError(`Plugin '${t}'#deactivate() method missing`);const i=n.findDependents(t,this._plugins,this._services),r=i.map((t=>this._plugins.get(t)));for(const e of r)if(!e.deactivate)throw new TypeError(`Plugin ${e.id}#deactivate() method missing (depends on ${t})`);for(const t of r){const e=[...t.requires,...t.optional].map((t=>{const e=this._services.get(t);return e?this._plugins.get(e).service:null}));await t.deactivate(this.application,...e),t.service=null,t.activated=!1}return i.pop(),i}async resolveRequiredService(t){const e=this._services.get(t);if(!e)throw new TypeError(`No provider for: ${t.name}.`);const n=this._plugins.get(e);return n.activated||await this.activatePlugin(e),n.service}async resolveOptionalService(t){const e=this._services.get(t);if(!e)return null;const n=this._plugins.get(e);if(!n.activated)try{await this.activatePlugin(e)}catch(t){return console.error(t),null}return n.service}},t.PromiseDelegate=class{constructor(){this.promise=new Promise(((t,e)=>{this._resolve=t,this._reject=e}))}resolve(t){(0,this._resolve)(t)}reject(t){(0,this._reject)(t)}},t.Token=class{constructor(t,e){this.name=t,this.description=null!=e?e:"",this._tokenStructuralPropertyT=null}}}(e,n(246))},246:(t,e,n)=>{"use strict";var i,r,o;function*l(...t){for(const e of t)yield*e}function*a(){}function*s(t,e=0){for(const n of t)yield[e++,n]}function*u(t,e){let n=0;for(const i of t)e(i,n++)&&(yield i)}function c(t,e){let n=0;for(const i of t)if(e(i,n++))return i}function f(t,e){let n=0;for(const i of t)if(e(i,n++))return n-1;return-1}function h(t,e){let n;for(const i of t)void 0!==n?e(i,n)<0&&(n=i):n=i;return n}function d(t,e){let n;for(const i of t)void 0!==n?e(i,n)>0&&(n=i):n=i;return n}function p(t,e){let n,i,r=!0;for(const o of t)r?(n=o,i=o,r=!1):e(o,n)<0?n=o:e(o,i)>0&&(i=o);return r?void 0:[n,i]}function g(t){return Array.from(t)}function v(t){const e={};for(const[n,i]of t)e[n]=i;return e}function m(t,e){let n=0;for(const i of t)if(!1===e(i,n++))return}function y(t,e){let n=0;for(const i of t)if(!1===e(i,n++))return!1;return!0}function x(t,e){let n=0;for(const i of t)if(e(i,n++))return!0;return!1}function*M(t,e){let n=0;for(const i of t)yield e(i,n++)}function*w(t,e,n){void 0===e?(e=t,t=0,n=1):void 0===n&&(n=1);const i=r.rangeLength(t,e,n);for(let e=0;e<i;e++)yield t+n*e}function _(t,e,n){const i=t[Symbol.iterator]();let r=0,o=i.next();if(o.done&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(o.done)return n;let l,a,s=i.next();if(s.done&&void 0===n)return o.value;if(s.done)return e(n,o.value,r++);for(l=e(void 0===n?o.value:e(n,o.value,r++),s.value,r++);!(a=i.next()).done;)l=e(l,a.value,r++);return l}function*P(t,e){for(;0<e--;)yield t}function*S(t){yield t}function*b(t){if("function"==typeof t.retro)yield*t.retro();else for(let e=t.length-1;e>-1;e--)yield t[e]}function O(t){let e=[],n=new Set,i=new Map;for(const e of t)r(e);for(const[t]of i)o(t);return e;function r(t){let[e,n]=t,r=i.get(n);r?r.push(e):i.set(n,[e])}function o(t){if(n.has(t))return;n.add(t);let r=i.get(t);if(r)for(const t of r)o(t);e.push(t)}}function*E(t,e){let n=0;for(const i of t)0==n++%e&&(yield i)}function*A(t,e){if(e<1)return;const n=t[Symbol.iterator]();let i;for(;0<e--&&!(i=n.next()).done;)yield i.value}function*j(...t){const e=t.map((t=>t[Symbol.iterator]()));let n=e.map((t=>t.next()));for(;y(n,(t=>!t.done));n=e.map((t=>t.next())))yield n.map((t=>t.value))}n.r(e),n.d(e,{ArrayExt:()=>i,StringExt:()=>o,chain:()=>l,each:()=>m,empty:()=>a,enumerate:()=>s,every:()=>y,filter:()=>u,find:()=>c,findIndex:()=>f,map:()=>M,max:()=>d,min:()=>h,minmax:()=>p,once:()=>S,range:()=>w,reduce:()=>_,repeat:()=>P,retro:()=>b,some:()=>x,stride:()=>E,take:()=>A,toArray:()=>g,toObject:()=>v,topologicSort:()=>O,zip:()=>j}),function(t){function e(t,e,n=0,i=-1){let r,o=t.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),r=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))<n?i+1+(o-n):i-n+1;for(let i=0;i<r;++i){let r=(n+i)%o;if(t[r]===e)return r}return-1}function n(t,e,n=-1,i=0){let r,o=t.length;if(0===o)return-1;r=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(i=i<0?Math.max(0,i+o):Math.min(i,o-1))?n+1+(o-i):n-i+1;for(let i=0;i<r;++i){let r=(n-i+o)%o;if(t[r]===e)return r}return-1}function i(t,e,n=0,i=-1){let r,o=t.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),r=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))<n?i+1+(o-n):i-n+1;for(let i=0;i<r;++i){let r=(n+i)%o;if(e(t[r],r))return r}return-1}function r(t,e,n=-1,i=0){let r,o=t.length;if(0===o)return-1;r=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(i=i<0?Math.max(0,i+o):Math.min(i,o-1))?n+1+(o-i):n-i+1;for(let i=0;i<r;++i){let r=(n-i+o)%o;if(e(t[r],r))return r}return-1}function o(t,e=0,n=-1){let i=t.length;if(!(i<=1))for(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);e<n;){let i=t[e],r=t[n];t[e++]=r,t[n--]=i}}function l(t,e){let n=t.length;if(e<0&&(e+=n),e<0||e>=n)return;let i=t[e];for(let i=e+1;i<n;++i)t[i-1]=t[i];return t.length=n-1,i}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=r,t.findFirstValue=function(t,e,n=0,r=-1){let o=i(t,e,n,r);return-1!==o?t[o]:void 0},t.findLastValue=function(t,e,n=-1,i=0){let o=r(t,e,n,i);return-1!==o?t[o]:void 0},t.lowerBound=function(t,e,n,i=0,r=-1){let o=t.length;if(0===o)return 0;let l=i=i<0?Math.max(0,i+o):Math.min(i,o-1),a=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))-i+1;for(;a>0;){let i=a>>1,r=l+i;n(t[r],e)<0?(l=r+1,a-=i+1):a=i}return l},t.upperBound=function(t,e,n,i=0,r=-1){let o=t.length;if(0===o)return 0;let l=i=i<0?Math.max(0,i+o):Math.min(i,o-1),a=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))-i+1;for(;a>0;){let i=a>>1,r=l+i;n(t[r],e)>0?a=i:(l=r+1,a-=i+1)}return l},t.shallowEqual=function(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(let i=0,r=t.length;i<r;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0},t.slice=function(t,e={}){let{start:n,stop:i,step:r}=e;if(void 0===r&&(r=1),0===r)throw new Error("Slice `step` cannot be zero.");let o,l=t.length;void 0===n?n=r<0?l-1:0:n<0?n=Math.max(n+l,r<0?-1:0):n>=l&&(n=r<0?l-1:l),void 0===i?i=r<0?-1:l:i<0?i=Math.max(i+l,r<0?-1:0):i>=l&&(i=r<0?l-1:l),o=r<0&&i>=n||r>0&&n>=i?0:r<0?Math.floor((i-n+1)/r+1):Math.floor((i-n-1)/r+1);let a=[];for(let e=0;e<o;++e)a[e]=t[n+e*r];return a},t.move=function(t,e,n){let i=t.length;if(i<=1)return;if((e=e<0?Math.max(0,e+i):Math.min(e,i-1))===(n=n<0?Math.max(0,n+i):Math.min(n,i-1)))return;let r=t[e],o=e<n?1:-1;for(let i=e;i!==n;i+=o)t[i]=t[i+o];t[n]=r},t.reverse=o,t.rotate=function(t,e,n=0,i=-1){let r=t.length;if(r<=1)return;if((n=n<0?Math.max(0,n+r):Math.min(n,r-1))>=(i=i<0?Math.max(0,i+r):Math.min(i,r-1)))return;let l=i-n+1;if(e>0?e%=l:e<0&&(e=(e%l+l)%l),0===e)return;let a=n+e;o(t,n,a-1),o(t,a,i),o(t,n,i)},t.fill=function(t,e,n=0,i=-1){let r,o=t.length;if(0!==o){n=n<0?Math.max(0,n+o):Math.min(n,o-1),r=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))<n?i+1+(o-n):i-n+1;for(let i=0;i<r;++i)t[(n+i)%o]=e}},t.insert=function(t,e,n){let i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(let n=i;n>e;--n)t[n]=t[n-1];t[e]=n},t.removeAt=l,t.removeFirstOf=function(t,n,i=0,r=-1){let o=e(t,n,i,r);return-1!==o&&l(t,o),o},t.removeLastOf=function(t,e,i=-1,r=0){let o=n(t,e,i,r);return-1!==o&&l(t,o),o},t.removeAllOf=function(t,e,n=0,i=-1){let r=t.length;if(0===r)return 0;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1);let o=0;for(let l=0;l<r;++l)n<=i&&l>=n&&l<=i&&t[l]===e||i<n&&(l<=i||l>=n)&&t[l]===e?o++:o>0&&(t[l-o]=t[l]);return o>0&&(t.length=r-o),o},t.removeFirstWhere=function(t,e,n=0,r=-1){let o,a=i(t,e,n,r);return-1!==a&&(o=l(t,a)),{index:a,value:o}},t.removeLastWhere=function(t,e,n=-1,i=0){let o,a=r(t,e,n,i);return-1!==a&&(o=l(t,a)),{index:a,value:o}},t.removeAllWhere=function(t,e,n=0,i=-1){let r=t.length;if(0===r)return 0;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1);let o=0;for(let l=0;l<r;++l)n<=i&&l>=n&&l<=i&&e(t[l],l)||i<n&&(l<=i||l>=n)&&e(t[l],l)?o++:o>0&&(t[l-o]=t[l]);return o>0&&(t.length=r-o),o}}(i||(i={})),function(t){t.rangeLength=function(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}}(r||(r={})),function(t){function e(t,e,n=0){let i=new Array(e.length);for(let r=0,o=n,l=e.length;r<l;++r,++o){if(o=t.indexOf(e[r],o),-1===o)return null;i[r]=o}return i}t.findIndices=e,t.matchSumOfSquares=function(t,n,i=0){let r=e(t,n,i);if(!r)return null;let o=0;for(let t=0,e=r.length;t<e;++t){let e=r[t]-i;o+=e*e}return{score:o,indices:r}},t.matchSumOfDeltas=function(t,n,i=0){let r=e(t,n,i);if(!r)return null;let o=0,l=i-1;for(let t=0,e=r.length;t<e;++t){let e=r[t];o+=e-l-1,l=e}return{score:o,indices:r}},t.highlight=function(t,e,n){let i=[],r=0,o=0,l=e.length;for(;r<l;){let a=e[r],s=e[r];for(;++r<l&&e[r]===s+1;)s++;o<a&&i.push(t.slice(o,a)),a<s+1&&i.push(n(t.slice(a,s+1))),o=s+1}return o<t.length&&i.push(t.slice(o)),i},t.cmp=function(t,e){return t<e?-1:t>e?1:0}}(o||(o={}))}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{"use strict";n.r(i),n.d(i,{default:()=>r});var t=n(181);const e=new t.Token("@jupyterlab/fileeditor:IEditorTracker","A widget tracker for file editors.\n  Use this if you want to be able to iterate over and interact with file editors\n  created by the application."),r=(new t.Token("@jupyterlab/fileeditor:IEditorWidgetFactory","A factory for creating file editors."),{id:"jupyterlab-meta-vm-extension:plugin",autoStart:!0,requires:[e],activate:(t,e)=>{console.log("MetaVM IR extension activated"),t.commands.addCommand("metavm:show-ir",{label:"Show IR Text",execute:()=>{var t,n;const i=e.currentWidget;if(i){const e=null!==(n=null===(t=i.content.model)||void 0===t?void 0:t.sharedModel.getSource())&&void 0!==n?n:"";console.log("Current editor text:",e)}else console.warn("No active editor found.")}}),t.commands.execute("metavm:show-ir")}})})(),i})()));
//# sourceMappingURL=index.js.map